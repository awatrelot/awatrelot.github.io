I"ë<p>Un client avec un besoin concernant lâ€™optimisation de la distribution de prospectus spÃ©cialisÃ©s. En effet, les circuits de livraison avaient Ã©tÃ© rÃ©alisÃ©s il y a plusieurs annÃ©es. Les nouveaux prospects se sont peu Ã  peu ajoutÃ©s aux livraisons mais sans politique dâ€™optimisation. Au bout de quelques annÃ©es il Ã©tait nÃ©cessaire dâ€™identifier les tournÃ©es potentiellement problÃ©matiques.</p>

<h2 id="Ã©tape-1--gÃ©ocodage-des-prospects">Ã‰tape 1 : GÃ©ocodage des prospects</h2>

<p>La premiÃ¨re Ã©tape fut de gÃ©ocoder les <strong>260 000</strong> prospects. Le gÃ©ocodage consiste en la traduction dâ€™une adresse postale en coordonnÃ©es XY, nÃ©cessaires pour les traitement et la reprÃ©sentation gÃ©ographique.</p>

<p>Pour cela jâ€™ai utilisÃ© lâ€™API de <a href="https://geo.api.gouv.fr/adresse">adresse.gouv.fr</a></p>

<h2 id="Ã©tape-2--lanalyse-par-hexagones">Ã‰tape 2 : Lâ€™analyse par Hexagones</h2>

<p>Pour identifier les tournÃ©es potentiellement problÃ©matiques jâ€™ai consolidÃ© les donnÃ©es grÃ¢ce Ã  des hexagones de 300m de diagonale :</p>
<ol>
  <li>GrÃ¢ce Ã  Postgres/PostGIS jâ€™ai gÃ©nÃ©rÃ© cette grille de plusieurs millions dâ€™hexagones gÃ©ographiques. Puis grÃ¢ce Ã  une jointure spatiale, jâ€™ai comptÃ© dans chaque hexagone le nombre de prospects.</li>
  <li>Puis jâ€™ai identifÃ© les hexagones qui comportaient plusieurs tournÃ©s de livraisons diffÃ©rentes.</li>
  <li>Puis jâ€™ai identifiÃ© le nombre de tournÃ©es diffÃ©rentes pour les hexagones correspondants.</li>
</ol>

<p><img src="/assets/img/analyse-tournees/methode-hexagones.png" alt="analyse des hexagones" /></p>

<ol>
  <li>Enfin jâ€™ai calculÃ© le nombre de prospects de la tournÃ©e la plus importante et la proportion que cette tournÃ©e reprÃ©sente.</li>
</ol>

<p><img src="/assets/img/analyse-tournees/methode-hexagones-2.png" alt="analyse des hexagones 2" /></p>

<h2 id="le-rÃ©sultat">Le rÃ©sultat</h2>

<p>Cette mÃ©thode permet de rÃ©duire considÃ©rablement le scope dâ€™analyse et dâ€™identifier les cas intÃ©ressants. Sur lâ€™hexagone identifiÃ© dans lâ€™exemple suivant, la tournÃ©e principale (identifiÃ©e par les points rouges) reprÃ©sente 95%. Ce qui veut dire quâ€™un prospect seulement ne fait pas partie de cette tournÃ©e (le point bleu). La tournÃ©e peut donc Ãªtre optimisÃ©e :</p>

<p><img src="/assets/img/analyse-tournees/etude-de-cas.png" alt="Ã‰tude de cas" /></p>

<p>In fine, cette mÃ©thode a permis dâ€™isoler :</p>
<ul>
  <li>59 000 prospects Ã  Ã©tudier sur les 260 000 de dÃ©part</li>
  <li>4 700 Hexagones sur 48 000</li>
  <li>Mais surtout rÃ©duire la surface de territoire Ã  analyser de 32 000 kmÂ² Ã  seulement 297 kmÂ²</li>
</ul>

<h2 id="comment-cette-application-a-Ã©tÃ©-construite-">Comment cette application a Ã©tÃ© construite ?</h2>

<h3 id="source-des-donnÃ©es">Source des donnÃ©es</h3>

<p>Les donnÃ©es sont des donnÃ©es publiques disponibles sur data.gouv.fr. Câ€™est une base au format CSV qui recense les centres de dÃ©psitages avec leur localisation et des informations complÃ©mentaires (numÃ©ro de tÃ©lÃ©phone, site internet â€¦) :</p>

<blockquote>
  <p><a href="https://www.data.gouv.fr/fr/datasets/sites-de-prelevements-pour-les-tests-covid/">https://www.data.gouv.fr/fr/datasets/sites-de-prelevements-pour-les-tests-covid/</a></p>
</blockquote>

:ET