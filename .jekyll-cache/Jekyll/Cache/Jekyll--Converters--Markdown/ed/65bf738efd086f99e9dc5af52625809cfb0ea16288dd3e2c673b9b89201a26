I"¹<p>Voici un site web pour trouver le centre de dÃ©pistage du Covid le plus proche de chez vous : <a href="https://prrojet-tests-covid.nw.r.appspot.com/">Le site</a></p>

<h2 id="comment-cette-application-a-Ã©tÃ©-construite-">Comment cette application a Ã©tÃ© construite ?</h2>

<h3 id="source-des-donnÃ©es">Source des donnÃ©es</h3>

<p>Les donnÃ©es sont des donnÃ©es publiques disponibles sur data.gouv.fr. Câ€™est une base au format CSV qui recense les centres de dÃ©psitages avec leur localisation et des informations complÃ©mentaires (numÃ©ro de tÃ©lÃ©phone, site internet â€¦) :</p>

<blockquote>
  <p><a href="https://www.data.gouv.fr/fr/datasets/sites-de-prelevements-pour-les-tests-covid/">https://www.data.gouv.fr/fr/datasets/sites-de-prelevements-pour-les-tests-covid/</a></p>
</blockquote>

<h3 id="enrichissement-et-stockage-des-donnÃ©es">Enrichissement et stockage des donnÃ©es</h3>

<p>Les donnÃ©es sont stockÃ©es sur une baseÂ BigQuery (Google Cloud Platform). GrÃ¢ce aux champs de latitude et de longitude, un nouveau champ Geometry a Ã©tÃ© crÃ©Ã©. Celui-ci est indispensable pour retrouver les centres de dÃ©pistage les plus proches dans lâ€™application.</p>

<h3 id="fonctionnement-de-lapplication">Fonctionnement de lâ€™application</h3>

<p>Lâ€™application est contruite en Python avecÂ FlaskÂ et le FrameworkÂ MaterializeÂ pour le rendu.</p>

<h4 id="Ã©tape-1--rÃ©cupÃ©ration-des-coordonnÃ©es-gÃ©ographiques">Ã‰tape 1 : RÃ©cupÃ©ration des coordonnÃ©es gÃ©ographiques</h4>

<p>Une fois lâ€™adresse postale envoyÃ©e, une requÃªte est envoyÃ©e Ã  lâ€™API deÂ <a href="https://geo.api.gouv.fr/adresse">adresse.gouv.fr</a>Â pour rÃ©cupÃ©rer les coordonnÃ©es XY.</p>

<h4 id="Ã©tape-2--requÃªter-les-centres-de-dÃ©pistage-les-plus-proches">Ã‰tape 2 : RequÃªter les centres de dÃ©pistage les plus proches</h4>

<p>Une fois les coordonnÃ©es XY rÃ©cupÃ©rÃ©es, La baseÂ BigQueryÂ est requÃªtÃ©e grÃ¢ce Ã  la fonctionÂ ST_DISTANCEÂ pour renvoyer les 10 rÃ©sultats les plus proches, leurs attributs, ainsi que la distance calculÃ©e.</p>

<h4 id="Ã©tape-3--rendu-dans-lapplication">Ã‰tape 3 : Rendu dans lâ€™application</h4>

<p>Une fois les centres de dÃ©pistage les plus proches rÃ©cupÃ©rÃ©s, Flask crÃ©Ã© un JSON et le renvoie sur la page de rÃ©sultats. La page est alors gÃ©nÃ©rÃ©e grÃ¢ce au moteur de rendu de Flask (template Jinja2) et une card est crÃ©Ã©e pour chaque Ã©tablissement.</p>

<p>Il est Ã©galement possible de rÃ©cupÃ©rer les rÃ©sultats au format JSON.Â <a href="https://prrojet-tests-covid.nw.r.appspot.com/api">Voir le fonctionnement de lâ€™API</a></p>

<ul>
  <li>Hexagon shoreditch beard</li>
  <li>Intelligentsia narwhal austin</li>
  <li>Literally meditation four</li>
  <li>Microdosing hoodie woke</li>
</ul>

<p>Wayfarers lyft DIY sriracha succulents twee adaptogen crucifix gastropub actually hexagon raclette franzen polaroid la croix. Selfies fixie whatever asymmetrical everyday carry 90â€™s stumptown pitchfork farm-to-table kickstarter. Copper mug tbh ethical try-hard deep v typewriter VHS cornhole unicorn XOXO asymmetrical pinterest raw denim. Skateboard small batch man bun polaroid neutra. Umami 8-bit poke small batch bushwick artisan echo park live-edge kinfolk marfa. Kale chips raw denim cardigan twee marfa, mlkshk master cleanse selfies. Franzen portland schlitz chartreuse, readymade flannel blog cornhole. Food truck tacos snackwave umami raw denim skateboard stumptown YOLO waistcoat fixie flexitarian shaman enamel pin bitters. Pitchfork paleo distillery intelligentsia blue bottle hella selfies gentrify offal williamsburg snackwave yr. Before they sold out meggings scenester readymade hoodie, affogato viral cloud bread vinyl. Thundercats man bun sriracha, neutra swag knausgaard jean shorts. Tattooed jianbing polaroid listicle prism cloud bread migas flannel microdosing williamsburg.</p>

<p>Echo park try-hard irony tbh vegan pok pok. Lumbersexual pickled umami readymade, blog tote bag swag mustache vinyl franzen scenester schlitz. Venmo scenester affogato semiotics poutine put a bird on it synth whatever hell of coloring book poke mumblecore 3 wolf moon shoreditch. Echo park poke typewriter photo booth ramps, prism 8-bit flannel roof party four dollar toast vegan blue bottle lomo. Vexillologist PBR&amp;B post-ironic wolf artisan semiotics craft beer selfies. Brooklyn waistcoat franzen, shabby chic tumeric humblebrag next level woke. Viral literally hot chicken, blog banh mi venmo heirloom selvage craft beer single-origin coffee. Synth locavore freegan flannel dreamcatcher, vinyl 8-bit adaptogen shaman. Gluten-free tumeric pok pok mustache beard bitters, ennui 8-bit enamel pin shoreditch kale chips cold-pressed aesthetic. Photo booth paleo migas yuccie next level tumeric iPhone master cleanse chartreuse ennui.</p>
:ET